<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>8-2절 예외 처리 고급</title>
    <script>
      /* 예외 객체 */
      // 아래 코드는 자바스크립트의 배열 크기가 한정되어 있어, 너무 크게 선언할 경우 오류가 발생하는 것을 이용해 이를 예외 처리하는 코드다.
      try {
        const array = new Array(999999999999999);
      } catch (exception) {
        console.log(exception);
        /* RangeError: Invalid array length
            at 8-2.html:11:23
          예외 이름: 예외 메세지
          11은 줄 번호, 23은 열 번호인 것 같은데 세는 방식은 잘 모르겠다. */
        console.log();
        console.log(`예외 이름: ${exception.name}`);
        console.log(`예외 메세지: ${exception.message}`);
      }

      /* throw 키워드 */
      function divide(a, b) {
        if (b === 0) {
          // 콘솔에 작성한 문구가 에러 표시로 출력된다.
          throw "0으로는 나눌 수 없습니다.";
        }
        return a / b;
      }
      // 다른 언어에서는 0으로 나누게 되면 바로 예외가 발생하지만 자바스크립트는 0으로 나눌 경우 Infinity라는 값을 출력하므로 throw를 통해 강제로 예외를 발생시켜야 한다.
      console.log(divide(10, 2));
      console.log(divide(10, 0));
      console.log("출력되지 않을 메세지");
      // 강제로 오류를 발생시키면 프로그램이 죽어서 실행이 끊기므로 마지막 콘솔 로그처럼 이후에 작성한 코드는 출력되지 않는다.
    </script>
  </head>
  <body></body>
</html>
