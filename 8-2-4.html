<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>8-2절 객체 매개변수</title>
    <script>
      // 유튜브 강의로 진행한 내용

      function 메일보내기1(발신인, 수신인, 내용) {
        console.log(`발신인: ${발신인}`);
        console.log(`수신인: ${수신인}`);
        console.log(내용);
      }

      // (1) 같은 자료형으로 매개변수가 나열돼있어서 코드를 읽을 때 빨리 이해하기 어렵다.
      메일보내기1("구름", "별", "간식 줘!");

      console.log("=============== 2 =================");

      function 메일보내기2(객체) {
        console.log(`발신인: ${객체.발신인}`);
        console.log(`수신인: ${객체.수신인}`);
        console.log(객체.내용);
      }

      // (2) 객체 매개변수 기본. 코드가 읽기는 쉬워졌지만 작성해야 할 게 많아져서 함수의 매개변수를 넣다가 오탈자가 나기 쉽다.
      메일보내기2({
        발신인: "구름",
        수신인: "별",
        내용: "간식 줘!",
      });

      // '내용'을 '내욤'이라고 쓴다든가 하는 식으로 매개변수가 잘못 들어왔을 경우, 함수가 예외를 강제로 발생시켜서 무슨 문제가 있다고 개발자에게 바로 알리고 개발자가 예외를 처리하게 만들어야 한다.

      console.log("=============== 3 =================");

      // 객체 매개변수 예외 발생시키기 - 과거의 방법 (1)
      function 메일보내기3(객체) {
        if (typeof 객체.발신인 === "undefined") {
          throw "발신인 매개변수에 문제가 발생했습니다.";
        }
        if (typeof 객체.수신인 === "undefined") {
          throw "수신인 매개변수에 문제가 발생했습니다.";
        }
        if (typeof 객체.내용 === "undefined") {
          throw "내용 매개변수에 문제가 발생했습니다.";
        }
        console.log(`발신인: ${객체.발신인}`);
        console.log(`수신인: ${객체.수신인}`);
        console.log(객체.내용);
      }

      메일보내기3({
        발신인: "구름",
        수신인: "별",
        내욤: "간식 줘!",
      });

      console.log("=============== 4 =================");

      // 과거의 방법 (2)
      function isRequired_1(객체, 속성이름) {
        if (typeof 객체[속성이름] === "undefined") {
          throw `${속성이름} 매개변수에 문제가 있습니다.`;
        }
      }

      function 메일보내기3(객체) {
        isRequired_1(객체, "발신인");
        isRequired_1(객체, "수신인");
        isRequired_1(객체, "내용");
        console.log(`발신인: ${객체.발신인}`);
        console.log(`수신인: ${객체.수신인}`);
        console.log(객체.내용);
      }

      메일보내기3({
        발신인: "구름",
        수신인: "별",
        내욤: "간식 줘!",
      });

      console.log("=============== 5 =================");

      // 현대의 방법 (1)
      // 객체.속성 <- 이렇게 쓰는 게 번거로워서 그걸 없앤 문법을 제공하기 시작 (선언 시에도 호출 시에도 객체 매개변수 쓴다로 이해하면 될 듯)
      function 메일보내기4({
        발신인 = "기본값",
        수신인 = "기본값",
        내용 = "기본값",
      }) {
        console.log(`발신인: ${발신인}`);
        console.log(`수신인: ${수신인}`);
        console.log(내용);
      }

      메일보내기4({
        발신인: "구름",
        수신인: "별",
        내욤: "간식 줘!",
      });

      console.log("=============== 6 =================");

      // 현대의 방법 (2) 가장 현대적인 방법. 기본값을 지정하고 싶으면 함수 대신 1처럼 그냥 기본값을 입력하면 된다.
      function isRequired_2(이름) {
        throw `${이름} 매개변수에 문제가 있습니다.`;
      }
      function 메일보내기4({
        // 기본값 대신 함수를 넣음으로써 매개변수가 입력되지 않았을 때 강제로 오류를 발생시킨다.
        발신인 = isRequired_2("발신인"), // 어떤 매개변수가 잘못되었는지 알기 위해서 문자열을 넣어준다.
        수신인 = isRequired_2("수신인"),
        내용 = isRequired_2("내용"),
      }) {
        console.log(`발신인: ${발신인}`);
        console.log(`수신인: ${수신인}`);
        console.log(내용);
      }

      메일보내기4({
        발신인: "구름",
        수신인: "별",
        내욤: "간식 줘!",
      });

      console.log("=============== 7 =================");

      // 매개변수를 하나도 입력하지 않고 함수만 호출할 경우 사용자가 관리자에게 문제가 발생했다는 메일을 보내게 하려고 한다.

      function 메일보내기5({
        발신인 = "사용자",
        수신인 = "관리자",
        내용 = "문제가 발생했습니다!",
      }) {
        console.log(`발신인: ${발신인}`);
        console.log(`수신인: ${수신인}`);
        console.log(내용);
      }

      메일보내기5();
      // 적어도 호출 시 매개변수로 객체가 들어와야만 함수의 객체 매개변수가 유효하게 동작하기 때문에 위의 호출 코드는 예외가 발생. 아래처럼 써야 한다.
      메일보내기5({});

      console.log("=============== 8 =================");

      // 그러나 진짜로 호출 시 매개변수에 아무것도 안 넣고 싶을 경우에는 아래처럼 기본 매개변수를 입력해주면 된다.
      function 메일보내기6({
        발신인 = "사용자",
        수신인 = "관리자",
        내용 = "문제가 발생했습니다!",
      } = {}) {
        console.log(`발신인: ${발신인}`);
        console.log(`수신인: ${수신인}`);
        console.log(내용);
      }

      메일보내기6();
      // 기본 매개변수가 있기 떄문에 호출 시 매개변수를 입력하지 않았을 때 객체 {}가 들어간 것으로 인식한다. 그리고 이후 {} 객체의 발신인, 수신인, 내용 속성을 읽는데 각각이 없으니까 기본값인 사용자, 관리자, 문제 발생을 출력하게 되는 것.
    </script>
  </head>
  <body></body>
</html>
