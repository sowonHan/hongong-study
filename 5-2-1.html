<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>5-2절 콜백함수1</title>
    <script>
      function callThreeTimes(callback) {
        for (let i = 0; i < 3; i++) {
          callback(i);
        }
      }

      function print(i) {
        console.log(`${i}번째 함수 호출`);
      }

      callThreeTimes(print);

      console.log("======================================");

      // 자바스크립트가 제공하는 함수 중 콜백 함수를 활용하는 함수들
      // 1. forEach() - 배열이 갖고있는 함수1. 배열 내부 요소를 활용하여 콜백 함수를 호출해준다.
      const numbers = [273, 52, 103, 32, 57];

      numbers.forEach(function (value, index, array) {
        console.log(`${index}번째 요소 : ${value}`);
      });

      console.log("======================================");

      // 2. map() - 배열이 갖고있는 함수2. 콜백 함수에서 리턴한 값들을 기반으로 새로운 배열을 만드는 함수
      let numbers2 = [273, 52, 103, 32, 57];

      numbers2 = numbers2.map(function (value, index, array) {
        return value * value;
      });

      numbers2.forEach(console.log);
      /* 매개변수로 console.log 자체를 넘기면 value index array 순으로 각 요소가 하나씩 콘솔에 출력된다. 왜 되는지는 저자 유튜브 강의 댓글에서 찾아옴
      (1) 일단 console.log 함수를 console.log(1,2,3,4,5) 처럼 여러 매개 변수를 넣어서 입력하면 1 2 3 4 5 처럼 모든 요소를 띄어쓰기로 구분해서 출력합니다.
      (2) forEach() 메서드는 "매개변수로 받은 콜백 함수"를 콜백함수(value, index, array) 형태로 실행합니다.
      (3) 콜백 함수가 console.log이므로 console.log(value, index, array) 형태로 실행하게 됩니다. 따라서 3가지를 띄어쓰기로 구분해서 쭉 출력하는 것입니다! */
      console.log("======================================");

      // 3. filter() - 배열이 갖고있는 함수3. 콜백 함수에서 리턴하는 값이 true인 것만 모아서 새로운 배열을 만드는 함수
      const numbers3 = [0, 1, 2, 3, 4, 5];
      const evenNumbers = numbers3.filter(function (value) {
        return value % 2 === 0;
      });

      console.log(`원래 배열 : ${numbers3}`);
      console.log(`짝수만 추출 : ${evenNumbers}`);

      // forEach(),map(),filter() 모두 배열로 반복을 돌린다는 건 동일함
      console.log("======================================");

      // 화살표 함수 사용
      let numbers4 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];

      numbers4
        .filter((value) => value % 2 === 0)
        .map((value) => value * value)
        .forEach((value) => {
          console.log(value);
        });
      // ↑ 메소드 체이닝 : 어떤 메소드가 리턴하는 값을 기반으로 해서 함수를 줄줄이 사용하는 것
    </script>
  </head>
  <body></body>
</html>
